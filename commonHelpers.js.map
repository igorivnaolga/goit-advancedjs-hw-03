{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_irHtt3V8BrTGwkXWLI8iNhKiq5Mjia2e5QWJF9QV3w8S7qeRvaIuzpJtDhIIrhEx';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1/';\n\nexport function fetchBreeds() {\n  return axios\n    .get(`${BASE_URL}breeds`)\n    .then(response => response.data)\n    .catch(error => {\n      iziToast.error({\n        message: 'Oops! Something went wrong! Try reloading the page!',\n      });\n      throw error;\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios\n    .get(`${BASE_URL}images/search?breed_ids=${breedId}`)\n    .then(response => response.data)\n    .catch(error => {\n      iziToast.error({\n        message: 'Oops! Something went wrong! Try reloading the page!',\n      });\n      throw error;\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectPlaceholder = `<option class=\"js-selectOption js-placeholder-select\" value=\"choose\">Select the cat</option>`;\n\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst errorMessage = document.querySelector('.error');\n\nbreedSelect.insertAdjacentHTML('afterbegin', selectPlaceholder);\n\nloader.hidden = false;\nbreedSelect.hidden = true;\nerrorMessage.hidden = true;\n\nfunction markup(arr) {\n  return arr\n    .map(({ name, id }) => {\n      return `<option class=\"js-breedSelectOption\" value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n}\n\nfetchBreeds()\n  .then(data => {\n    breedSelect.insertAdjacentHTML('beforeend', markup(data));\n    loader.hidden = true;\n    breedSelect.hidden = false;\n    new SlimSelect({\n      select: breedSelect,\n    });\n  })\n\n  .catch(\n    err => console.log(err),\n    iziToast.error({\n      message: 'Oops! Something went wrong! Try reloading the page!',\n    })\n  );\n\nbreedSelect.addEventListener('change', onChangeSelect);\n\nfunction onChangeSelect() {\n  catInfo.hidden = true;\n  loader.hidden = false;\n  breedSelect.hidden = true;\n\n  fetchCatByBreed(breedSelect.value)\n    .then(data => {\n      const img = data[0].url;\n      const name = data[0].breeds[0].name;\n      const description = data[0].breeds[0].description;\n      const temperament = data[0].breeds[0].temperament;\n\n      catInfo.innerHTML = createCatCard(img, name, description, temperament);\n      loader.hidden = true;\n      breedSelect.hidden = false;\n      catInfo.hidden = false;\n    })\n    .catch(err => {\n      iziToast.error({\n        message: 'Oops! Something went wrong! Try reloading the page!',\n      });\n      console.log(err);\n      loader.hidden = true;\n      breedSelect.hidden = false;\n      catInfo.hidden = true;\n    });\n}\n\nfunction createCatCard(url, name, description, temperament) {\n  return `<img class=\"js-cat-photo\" src=\"${url}\" alt=\"${name}\" width=\"300\">\n    <div class=\"js-cat-description\">\n      <h2>${name}</h2>\n      <p>${description}</p>\n      <h3>Temperament:</h3>\n      <p>${temperament}</p>\n    </div>`;\n}\n"],"names":["axios","BASE_URL","fetchBreeds","response","error","iziToast","fetchCatByBreed","breedId","selectPlaceholder","breedSelect","catInfo","loader","errorMessage","markup","arr","name","id","data","SlimSelect","err","onChangeSelect","img","description","temperament","createCatCard","url"],"mappings":"owBAIAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,MAAMC,EAAW,gCAEV,SAASC,GAAc,CAC5B,OAAOF,EACJ,IAAI,GAAGC,SAAgB,EACvB,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,MAAAC,EAAS,MAAM,CACb,QAAS,qDACjB,CAAO,EACKD,CACZ,CAAK,CACL,CAEO,SAASE,EAAgBC,EAAS,CACvC,OAAOP,EACJ,IAAI,GAAGC,4BAAmCM,GAAS,EACnD,KAAKJ,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,MAAAC,EAAS,MAAM,CACb,QAAS,qDACjB,CAAO,EACKD,CACZ,CAAK,CACL,CCzBA,MAAMI,EAAoB,+FAEpBC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,QAAQ,EAEpDH,EAAY,mBAAmB,aAAcD,CAAiB,EAE9DG,EAAO,OAAS,GAChBF,EAAY,OAAS,GACrBG,EAAa,OAAS,GAEtB,SAASC,EAAOC,EAAK,CACnB,OAAOA,EACJ,IAAI,CAAC,CAAE,KAAAC,EAAM,GAAAC,KACL,+CAA+CA,MAAOD,YAC9D,EACA,KAAK,EAAE,CACZ,CAEAb,EAAa,EACV,KAAKe,GAAQ,CACZR,EAAY,mBAAmB,YAAaI,EAAOI,CAAI,CAAC,EACxDN,EAAO,OAAS,GAChBF,EAAY,OAAS,GACrB,IAAIS,EAAW,CACb,OAAQT,CACd,CAAK,CACL,CAAG,EAEA,MACCU,GAAO,QAAQ,IAAIA,CAAG,EACtBd,EAAS,MAAM,CACb,QAAS,qDACf,CAAK,CACL,EAEAI,EAAY,iBAAiB,SAAUW,CAAc,EAErD,SAASA,GAAiB,CACxBV,EAAQ,OAAS,GACjBC,EAAO,OAAS,GAChBF,EAAY,OAAS,GAErBH,EAAgBG,EAAY,KAAK,EAC9B,KAAKQ,GAAQ,CACZ,MAAMI,EAAMJ,EAAK,GAAG,IACdF,EAAOE,EAAK,GAAG,OAAO,GAAG,KACzBK,EAAcL,EAAK,GAAG,OAAO,GAAG,YAChCM,EAAcN,EAAK,GAAG,OAAO,GAAG,YAEtCP,EAAQ,UAAYc,EAAcH,EAAKN,EAAMO,EAAaC,CAAW,EACrEZ,EAAO,OAAS,GAChBF,EAAY,OAAS,GACrBC,EAAQ,OAAS,EACvB,CAAK,EACA,MAAMS,GAAO,CACZd,EAAS,MAAM,CACb,QAAS,qDACjB,CAAO,EACD,QAAQ,IAAIc,CAAG,EACfR,EAAO,OAAS,GAChBF,EAAY,OAAS,GACrBC,EAAQ,OAAS,EACvB,CAAK,CACL,CAEA,SAASc,EAAcC,EAAKV,EAAMO,EAAaC,EAAa,CAC1D,MAAO,kCAAkCE,WAAaV;AAAA;AAAA,YAE5CA;AAAA,WACDO;AAAA;AAAA,WAEAC;AAAA,WAEX"}