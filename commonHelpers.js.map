{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_irHtt3V8BrTGwkXWLI8iNhKiq5Mjia2e5QWJF9QV3w8S7qeRvaIuzpJtDhIIrhEx';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1/';\n\nexport function fetchBreeds() {\n  return axios.get(`${BASE_URL}breeds`).then(response => response.data);\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios\n    .get(`${BASE_URL}images/search?breed_ids=${breedId}`)\n    .then(response => {\n      if (!response.data) {\n        throw new Error(`Breed ${breedId} not found`);\n      } else {\n        return response.data;\n      }\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectPlaceholder = `<option class=\"js-selectOption js-placeholder-select\" value=\"choose\">Select the cat</option>`;\n\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst errorMessage = document.querySelector('.error');\n\nbreedSelect.insertAdjacentHTML('afterbegin', selectPlaceholder);\n\nloader.hidden = false;\nbreedSelect.hidden = true;\nerrorMessage.hidden = true;\n\nfunction markup(arr) {\n  return arr\n    .map(({ name, id }) => {\n      return `<option class=\"js-breedSelectOption\" value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n}\n\nfetchBreeds()\n  .then(data => {\n    // console.log(data);\n    if (!data) {\n      throw new Error();\n    }\n    breedSelect.insertAdjacentHTML('beforeend', markup(data));\n\n    breedSelect.hidden = false;\n    new SlimSelect({\n      select: breedSelect,\n    });\n  })\n  .catch(err => {\n    console.log(err);\n    iziToast.error({\n      message: 'Oops! Something went wrong! Try reloading the page!',\n    });\n  })\n  .finally(() => (loader.hidden = true));\n\n//** Коли я залишаю цей кетч, то при перезагрузці сторінки відразу викидає повідомлення 'Oops! Something went wrong! Try reloading the page!', хоча помилки немає. Але як тоді зловити помилку, яку я викинула в зені? Чи її не потрібно ловити тут? */\n\n// .catch(\n//   err => console.log(err),\n//   iziToast.error({\n//     message: 'Oops! Something went wrong! Try reloading the page!',\n//   })\n// );\n\nbreedSelect.addEventListener('change', onChangeSelect);\n\nfunction onChangeSelect() {\n  catInfo.hidden = true;\n  loader.hidden = false;\n  breedSelect.hidden = true;\n\n  fetchCatByBreed(breedSelect.value)\n    .then(data => {\n      if (data.length === 0) {\n        catInfo.innerHTML = '';\n        loader.hidden = true;\n        iziToast.error({\n          message: 'Oops! Information not found!',\n        });\n      } else {\n        const img = data[0].url;\n        const name = data[0].breeds[0].name;\n        const description = data[0].breeds[0].description;\n        const temperament = data[0].breeds[0].temperament;\n        catInfo.innerHTML = createCatCard(img, name, description, temperament);\n        loader.hidden = true;\n        breedSelect.hidden = false;\n        catInfo.hidden = false;\n      }\n    })\n    .catch(err => {\n      iziToast.error({\n        message: 'Oops! Something went wrong! Try reloading the page!',\n      });\n      console.log(err);\n      loader.hidden = true;\n      breedSelect.hidden = false;\n      catInfo.hidden = true;\n    });\n}\n\nfunction createCatCard(url, name, description, temperament) {\n  return `<img class=\"js-cat-photo\" src=\"${url}\" alt=\"${name}\" width=\"300\">\n    <div class=\"js-cat-description\">\n      <h2>${name}</h2>\n      <p>${description}</p>\n      <h3>Temperament:</h3>\n      <p>${temperament}</p>\n    </div>`;\n}\n"],"names":["axios","BASE_URL","fetchBreeds","response","fetchCatByBreed","breedId","selectPlaceholder","breedSelect","catInfo","loader","errorMessage","markup","arr","name","id","data","SlimSelect","err","iziToast","onChangeSelect","img","description","temperament","createCatCard","url"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,MAAMC,EAAW,gCAEV,SAASC,GAAc,CAC5B,OAAOF,EAAM,IAAI,GAAGC,SAAgB,EAAE,KAAKE,GAAYA,EAAS,IAAI,CACtE,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAOL,EACJ,IAAI,GAAGC,4BAAmCI,GAAS,EACnD,KAAKF,GAAY,CAChB,GAAKA,EAAS,KAGZ,OAAOA,EAAS,KAFhB,MAAM,IAAI,MAAM,SAASE,aAAmB,CAIpD,CAAK,CACL,CCfA,MAAMC,EAAoB,+FAEpBC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,QAAQ,EAEpDH,EAAY,mBAAmB,aAAcD,CAAiB,EAE9DG,EAAO,OAAS,GAChBF,EAAY,OAAS,GACrBG,EAAa,OAAS,GAEtB,SAASC,EAAOC,EAAK,CACnB,OAAOA,EACJ,IAAI,CAAC,CAAE,KAAAC,EAAM,GAAAC,KACL,+CAA+CA,MAAOD,YAC9D,EACA,KAAK,EAAE,CACZ,CAEAX,EAAa,EACV,KAAKa,GAAQ,CAEZ,GAAI,CAACA,EACH,MAAM,IAAI,MAEZR,EAAY,mBAAmB,YAAaI,EAAOI,CAAI,CAAC,EAExDR,EAAY,OAAS,GACrB,IAAIS,EAAW,CACb,OAAQT,CACd,CAAK,CACL,CAAG,EACA,MAAMU,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfC,EAAS,MAAM,CACb,QAAS,qDACf,CAAK,CACL,CAAG,EACA,QAAQ,IAAOT,EAAO,OAAS,EAAK,EAWvCF,EAAY,iBAAiB,SAAUY,CAAc,EAErD,SAASA,GAAiB,CACxBX,EAAQ,OAAS,GACjBC,EAAO,OAAS,GAChBF,EAAY,OAAS,GAErBH,EAAgBG,EAAY,KAAK,EAC9B,KAAKQ,GAAQ,CACZ,GAAIA,EAAK,SAAW,EAClBP,EAAQ,UAAY,GACpBC,EAAO,OAAS,GAChBS,EAAS,MAAM,CACb,QAAS,8BACnB,CAAS,MACI,CACL,MAAME,EAAML,EAAK,GAAG,IACdF,EAAOE,EAAK,GAAG,OAAO,GAAG,KACzBM,EAAcN,EAAK,GAAG,OAAO,GAAG,YAChCO,EAAcP,EAAK,GAAG,OAAO,GAAG,YACtCP,EAAQ,UAAYe,EAAcH,EAAKP,EAAMQ,EAAaC,CAAW,EACrEb,EAAO,OAAS,GAChBF,EAAY,OAAS,GACrBC,EAAQ,OAAS,EAClB,CACP,CAAK,EACA,MAAMS,GAAO,CACZC,EAAS,MAAM,CACb,QAAS,qDACjB,CAAO,EACD,QAAQ,IAAID,CAAG,EACfR,EAAO,OAAS,GAChBF,EAAY,OAAS,GACrBC,EAAQ,OAAS,EACvB,CAAK,CACL,CAEA,SAASe,EAAcC,EAAKX,EAAMQ,EAAaC,EAAa,CAC1D,MAAO,kCAAkCE,WAAaX;AAAA;AAAA,YAE5CA;AAAA,WACDQ;AAAA;AAAA,WAEAC;AAAA,WAEX"}